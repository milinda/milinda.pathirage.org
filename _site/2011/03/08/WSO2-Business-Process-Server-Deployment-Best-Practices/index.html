<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>WSO2 Business Process Server Deployment Best Practices</title>
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link href='http://fonts.googleapis.com/css?family=Abel' rel='stylesheet' type='text/css'>    
    <link href='http://fonts.googleapis.com/css?family=Life+Savers' rel='stylesheet' type='text/css'>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <style>
      body{
        color: #404040;
        padding:0;
        margin: 0;
      }
      .wrapper {
        margin: 0 0;
        padding: 50px;
      }

      a .post{
        margin-bottom: 5px;
        font-size: 18px;
      }

      time{
        font-family: 'Abel', sans-serif;
        font-size: 0.9em;
        display: block;
        color: #888;
        margin-bottom: 18px;
      }

      footer p{
        margin-bottom: 3px;
      }

      footer{
        bottom: 30px;
      }

      .nav p{
        margin-right: 7px;
        float: left;
      }
      .nav{
        float: left;
      }

      #cright{
        margin-top: 10px;
      }

      .nav-ele{
        padding: 1px 4px 2px;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        border-radius: 3px;
        background-color: #505050;
      }

      .nav-ele a{
        font-weight: bold;
        color: white;
      }

      .nav-ele a:hover{
        color: #ccc;
      }

      .archives{
        margin-top: 20px;
        margin-bottom: 8px;
        margin-left: -20px;
      }

      .topbar-fixed{
        top: 0;
        right: 0;
        left: 0;
        z-index: 1030;
        margin-bottom: 0;
        position: fixed;
      }

      .topbar-inner{
        min-height: 20px;
        width:100%;
        background-color: #D44413;
        box-shadow: 0 1px 3px rgba(0, 0, 0, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
      }
      
      .quote-sidebar{
      font-weight:bold;
      }
      .quote-sidebar .quote{
      margin-bottom: 5px;
      padding-top:40px;
      font-family: 'Life Savers', cursive;
      }
      .quote-sidebar .author{
      float:right;
      margin-right: 40px;
      }
.pub-list{
list-style: none;
margin-left: 0;
}

.pu-list li{
margin-top: 10px;
}

    </style>
  </head>
  <body>
    <!--div class="topbar-fixed">
      <div class="topbar-inner" id="css-animation">
      </div>
    </div-->
    <div class="wrapper">
      <header>
        <h1>Hey, I'm Milinda</h1>
        <p>A Father and a Computer Science PhD Student at the <a href="http://www.soic.indiana.edu/">Indiana University</a>. I am also a committer and a PMC member for <a href="http://axis.apache.org/">Apache Axis</a> and <a href="http://ode.apache.org/">Apache ODE</a> projects.</p>
        <p>Get in touch with me on <a href="http://twitter.com/milindalakmal">Twitter</a>, <a href="http://www.facebook.com/milindapathirage">Facebook</a> or plain old-fashioned <a href="mailto:milinda.pathirage@gmail.com">email</a>.</p>
        <div class="nav">
          <p class="nav-ele"><a href="/">Home</a></p>
          <p class="nav-ele"><a href="/archive.html">Archives</a></p>
          <p class="nav-ele"><a href="/gsoc.html">GSOC 2011</a></p>
        </div>
	
	<div style="clear:both;" class="quote-sidebar">
	  <p class="quote">Don't ignore your dreams; don't work too much; say what you think; cultivate friendships; be happy.</p>
	  <p class="author">- <a href="http://paulgraham.com/todo.html" target="_blank">Paul Graham</a></p>
	</div>
      </header>
      <section>
        <h1>WSO2 Business Process Server Deployment Best Practices</h1>
<p>Default distribution of <a href="http://wso2.com/products/business-process-server">WSO2 BPS</a> comes with embedded H2 database as <a href="http://docs.oasis-open.org/wsbpel/2.0/CS01/wsbpel-v2.0-CS01.html">BPEL</a> engine’s persistence storage and other settings which are suitable for use in a development setup. But when you are going to production with WSO2 BPS, there are several configurations you need to change according to your production requirements. These configurations will change based on how much requests WSO2 BPS is going to handle per second, your auditing and monitoring requirements, performance requirements and nature of your process. Following are the main things you should do before go into production with WSO2 BPS.</p>

<p>Some of the below mention configurations are true for Apache ODE, but the way we configure Apache ODE is little bit different from WSO2 BPS. In addition to that below mention configuration are valid from WSO2 BPS 2.0.2 onwards. Configuration mechanisms of older WSO2 BPS versions are different.</p>

<ul>
<li><a href="http://wso2.org/project/bps/2.0.2/docs/user_guide.html#Configuring-Ext-DS">Configure external database server</a> like MySQL as your persistence storage instead of embedded H2 database. You may experience slight performance gain for simple BPEL processes with H2 database, but when it comes to multiple concurrent requests and complex processes H2 can’t server your performance needs.</li>
<li><a href="http://wso2.org/project/bps/2.0.2/docs/user_guide.html#Using-Multi-Threaded-HTTP">Configure multi-threaded Http connection manager connection pool settings</a> to suits to your BPEL processes. There are two configurations in Http connection manager. One is max total connections and other is max total connection per host. These settings will depend on number of concurrent requests BPS needs to handle and number of external service calls in involve per process instance.</li>
<li><a href="http://wso2.org/project/bps/2.0.2/docs/user_guide.html#Add-Set-In-memory-execution">Configure BPEL process persistence</a>. If you are implementing process with request-response interaction model use in-memory processes instead of persistence processes. Whether to use in-memory or persisted processes will mainly depends on your business use-case.</li>
<li><a href="http://wso2.org/project/bps/2.0.2/docs/user_guide.html#Using-Events">Configure even-filtering</a> at process and scope level. You can save lot of database resources by reducing number of events generated.</li>
<li>Using process-to-process communication. If you are calling one BPEL process from another BPEL process deployed in the same BPS instance, it’s better to use process-to-process communication to reduce overhead introduce by additional network calls.</li>
<li>Also make sure to configure process instance cleanup. Large number of process instance data will be accumulated in the BPEL engine persistence storage if you persisted processes, so to reduce performance overhead introduce by database size you should configure instance cleanup.</li>
</ul>


<div id="comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'milindablog'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

      </section>
      <footer>
            <p id="cright">Copyright © 2012 Milinda Pathirage</p>
            <p><small>Based on Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2420520-12']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </body>
</html>
