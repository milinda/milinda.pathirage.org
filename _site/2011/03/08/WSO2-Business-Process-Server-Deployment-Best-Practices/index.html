<!DOCTYPE HTML>

<html>
  <head>
  	<meta name="description" content="Milinda Pathirage; Computer Science Graduate Student at Indiana University Bloomington. Intereseted in Workflow Technologies, Programming Languages and Distributed Computing."/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="author" content="Milinda Pathirage" />
    <link href='http://fonts.googleapis.com/css?family=Josefin+Sans:400,600' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Arimo' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Varela+Round' rel='stylesheet' type='text/css'>

    <title>WSO2 Business Process Server Deployment Best Practices</title>
    <style>
    	#content{
    		width: 400px;
    		margin-left: 40px;
    		margin-top: 40px;
    		font-family: 'Arimo', sans-serif;
    		font-size: 13px;
        line-height: 1.4em;
    	}

    	#comments{
    		width: 500px;
    		margin-left: 40px;
    		margin-top: 10px;
    		font-family: 'Arimo', sans-serif;
    		font-size: 13px;
    	}

    	#post{
    		width: 500px;
    		margin-left: 40px;
    		margin-top: 40px;
    		font-family: 'Arimo', sans-serif;
    		font-size: 13px;
        line-height: 1.4em;
    	}

      #post p{
        line-height: 1.4em;
        font-style: normal;
        font-weight: normal;

      }

    	#content h1, #post h1{
    		font-weight: bold;
    		font-size: 44px;
        font-family: 'Josefin Sans', sans-serif;
    		color: #DF4747;
    		line-height: 1.3 em;
    	}

    	#content h2, #post h2{
    		font-size: 27px;
        font-family: 'Josefin Sans', sans-serif;
    		color: #DF4747;
    		line-height: 1.3em;
    	}

    	#content h3, #post h3{
    		font-size: 21px;
        font-family: 'Josefin Sans', sans-serif;
    		color: #DF4747;
    	}

    	#nav {
    		font-family: 'Arimo', sans-serif;
    		font-size: 13px;
    	}

    	#nav ul{
    		list-style-type: none;
    		display: inline;
    		margin-left: 0;
    		padding-left: 0;
    	}

    	#nav ul li {
    		margin-left: 0;
    		padding: 3px 15px;
    		list-style: none;
    		display: inline;
    		}


    	#nav ul li.first {
    		margin-left: 0;
    		padding-left: 0;
    		border-left: none;
    		list-style: none;
    		display: inline;
    		}

    	.gist{
    		font-size: 12px;
    	}

    	#post-footer{
    		border-top: 1px dashed #ccc;
    	}

    	#post-footer p{
    		font-size: 12px;
    		font-style: italic;
    		text-align: right;
    	}

    	#footer p{
    		font-size: 12px;
    		text-align: left;
    		font-family: 'Arimo', sans-serif;
    		margin-left: 40px;
    		margin-top: 30px;
    	}

    	blockquote{
    		color: #E0674F;
    		/*font-family: 'Andika', sans-serif;*/
    		font-weight: lighter;
    		font-style: italic;
    		text-align: right;
    	}

    	.twtr-hd{
    		display: none;
    	}

    	.twtr-ft{
    		display: none;
    	}

    	.twtr-doc{
    		width: 400px;
    	}

    	.twtr-widget .twtr-tweet-wrap{
    		padding-left: 0;
    		font-family: 'Josefin Sans', sans-serif;
    		font-style: italic;
    		font-size: 14px;
    	}

    	h3, h4, h5{
    		border-bottom: 1px solid #CCCCCC;
    	}
    	h4{
    		margin-bottom: .4em;
    	}

    	p{
    		margin-top: .6em;
    	}
    	a:link, a:visited{
    		color: #DF4747;
    	}
    	a:hover{
    		color:#900;
    	}
    </style>
  </head>
  <body>
      <div id="post">
	<div id="nav">
		<ul>
			<li class="first"><a href="http://milinda.pathirage.org">Home</a></li>
			<li><a href="http://milinda.pathirage.org/about.html">About Me</a></li>
			<li><a href="#">Archives</a></li>
		</ul>
	</div>	
    <h2>WSO2 Business Process Server Deployment Best Practices</h2>
    <p>Default distribution of <a href="http://wso2.com/products/business-process-server">WSO2 BPS</a> comes with embedded H2 database as <a href="http://docs.oasis-open.org/wsbpel/2.0/CS01/wsbpel-v2.0-CS01.html">BPEL</a> engine’s persistence storage and other settings which are suitable for use in a development setup. But when you are going to production with WSO2 BPS, there are several configurations you need to change according to your production requirements. These configurations will change based on how much requests WSO2 BPS is going to handle per second, your auditing and monitoring requirements, performance requirements and nature of your process. Following are the main things you should do before go into production with WSO2 BPS.</p>

<p>Some of the below mention configurations are true for Apache ODE, but the way we configure Apache ODE is little bit different from WSO2 BPS. In addition to that below mention configuration are valid from WSO2 BPS 2.0.2 onwards. Configuration mechanisms of older WSO2 BPS versions are different.</p>

<ul>
<li><a href="http://wso2.org/project/bps/2.0.2/docs/user_guide.html#Configuring-Ext-DS">Configure external database server</a> like MySQL as your persistence storage instead of embedded H2 database. You may experience slight performance gain for simple BPEL processes with H2 database, but when it comes to multiple concurrent requests and complex processes H2 can’t server your performance needs.</li>
<li><a href="http://wso2.org/project/bps/2.0.2/docs/user_guide.html#Using-Multi-Threaded-HTTP">Configure multi-threaded Http connection manager connection pool settings</a> to suits to your BPEL processes. There are two configurations in Http connection manager. One is max total connections and other is max total connection per host. These settings will depend on number of concurrent requests BPS needs to handle and number of external service calls in involve per process instance.</li>
<li><a href="http://wso2.org/project/bps/2.0.2/docs/user_guide.html#Add-Set-In-memory-execution">Configure BPEL process persistence</a>. If you are implementing process with request-response interaction model use in-memory processes instead of persistence processes. Whether to use in-memory or persisted processes will mainly depends on your business use-case.</li>
<li><a href="http://wso2.org/project/bps/2.0.2/docs/user_guide.html#Using-Events">Configure even-filtering</a> at process and scope level. You can save lot of database resources by reducing number of events generated.</li>
<li>Using process-to-process communication. If you are calling one BPEL process from another BPEL process deployed in the same BPS instance, it’s better to use process-to-process communication to reduce overhead introduce by additional network calls.</li>
<li>Also make sure to configure process instance cleanup. Large number of process instance data will be accumulated in the BPEL engine persistence storage if you persisted processes, so to reduce performance overhead introduce by database size you should configure instance cleanup.</li>
</ul>


    <div id="post-footer">
    	<p>Written by Milinda Pathirage on 8th March 2011
    </div>
</div>

      
      <div id="comments">
      <div id="disqus_thread"></div>
      <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'milindablog'; // required: replace example with your forum shortname

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
      
      <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-2420520-12']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

      </script>
      <div id="footer"><p> Copyright © 2011 Milinda Pathirage</div>
  </body>
</html>
