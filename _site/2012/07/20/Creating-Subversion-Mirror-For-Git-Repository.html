<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
          content="Distributed Systems, Parallel Programming, Programming Languages and Life">
    <meta name="author" content="Milinda Pathirage">
    <link rel="shortcut icon" href="/images/favicon.png">

    <title>Technology and Life - Creating SVN Mirror For Git Repository</title>

    <!-- Google Webfonts -->
    <link href='http://fonts.googleapis.com/css?family=Oswald:300,400,700' rel='stylesheet'
          type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic'
          rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400' rel='stylesheet'
          type='text/css'>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">
		
		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
		  <script src="/js/html5shiv.js"></script>
		  <script src="/js/respond.min.js"></script>
		<![endif]-->
</head>
<body>

<!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                    data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">TECHNOLOGY & LIFE</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">

            </ul>
            <ul class="nav navbar-nav navbar-right all-caps">
                <li class="active"><a href="/">Home</a></li>
                <li><a href="#about">About</a></li>
                <!--li><a href="#">Photos</a></li>
                <li><a href="#">Archive</a></li-->
            </ul>
        </div>
    </div>
</div>

<div class="container">
    <div class="post">
	<div class="header">
  	<h1>Creating SVN Mirror For Git Repository</h1>
  	<p>20 Jul 2012 by Milinda Pathirage</p>
	</div>
	<div class="content">
		<p>Today I needed to mirror one of my Github repositories into a internal SVN
repository. I googled and found <a href="http://stackoverflow.com/questions/661018/pushing-an-existing-git-repository-to-svn">several</a> <a href="http://stackoverflow.com/questions/1269566/unable-to-determine-upstream-svn-information-from-head-history">Stackoverflow</a> threads and
<a href="http://code.google.com/p/support/wiki/ImportingFromGit">articles</a> which explain different ways of doing this. But none of the
approaches in those worked for me. Finally I found <a href="http://www.codeography.com/2010/03/17/howto-mirror-git-to-subversion.html">this post</a> from
Codeography which worked like a charm and which was really simple.
Following is the methodology described in that post. I am sure that this
will work for most of us when compared with the complex methods
discussed in the different places of internet.</p>

<p>I mirrored <a href="https://github.com/milinda/CloudPipe">CloudPipe</a> repository in Github
to our internal SVN <a href="svn+ssh://bitternut.cs.indiana.edu/home/dquob/svn-repo/slosh/cloudpipe/trunk">repo</a>.</p>

<p>First step is to edit the <strong>.git/config</strong> file in your local Git
repository. You need to add following to <em>config</em> file.</p>

<div class="highlight"><pre><code class="yaml"><span class="p-Indicator">[</span><span class="nv">svn-remote &quot;svn&quot;</span><span class="p-Indicator">]</span>                                                              
    <span class="l-Scalar-Plain">url = svn+ssh://mpathira@bitternut.cs.indiana.edu/home/dquob/svn-repo/slosh/cloudpipe/trunk</span>
    <span class="l-Scalar-Plain">fetch = :refs/remotes/git-svn</span>
</code></pre></div>


<p>In above <strong>url</strong> should point to your SVN repository. Then you need to
merge the <strong>master</strong> in to new branch using following commands.</p>

<div class="highlight"><pre><code class="bash">git svn fetch svn
git checkout -b svn git-svn
git merge master
git svn dcommit
</code></pre></div>


<p>Then rebase the branch to the <strong>master</strong>, and you can <strong>dcommit</strong> from the
<strong>master</strong> to <strong>svn</strong>.</p>

<div class="highlight"><pre><code class="bash">git checkout master
git rebase svn
git branch -d svn
git svn dcommit
</code></pre></div>


<p>After this you can commit changes to <strong>svn</strong>, every time you do a commit to git.
The <a href="http://www.codeography.com/2010/03/17/howto-mirror-git-to-subversion.html">post</a> I mentioned above contains extra information on how to use cron
job to sync the repositories periodically. But I didn't try those, so
you may need to try and see whether they work for you.</p>

	</div>
</div>

</div>

<div id="footer">
    <div class="container">
        <div id="about" class="row" style="padding-top:20px;">
            <div class="col-lg-6">
                <p>
                    Milinda Pathirage is a Computer Science PhD student at 
					<a href="http://www.iub.edu/" target="_blank">Indiana University,
                    Bloomington</a>. I am interested in distributed systems, parallel programing
                    and many core architectures. <a href="#">More..</a>
                </p>

                <p style="text-transform: uppercase;">
                    <strong>Find me elsewhere</strong>
                </p>

                <div class="social-profiles">
                    <a href="https://twitter.com/milindalakmal">
                        <img src="/images/twitter-32.png">
                    </a>
                    <a href="https://twitter.com/milindalakmal">
                        <img src="/images/facebook-32.png">
                    </a>
                    <a href="https://twitter.com/milindalakmal">
                        <img src="/images/flickr-32.png">
                    </a>
                    <a href="https://twitter.com/milindalakmal">
                        <img src="/images/linkedin-32.png">
                    </a>
                </div>
            </div>
            <div class="col-lg-6">
                <img src="/images/family.png">
            </div>
        </div>
    </div>
		<script src="/js/jquery.min.js"></script>
		<script src="/js/bootstrap.min.js"></script>
</body>
</html>
