<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Web Application Development in Clojure</title>
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link href='http://fonts.googleapis.com/css?family=Abel' rel='stylesheet' type='text/css'>    
    <link href='http://fonts.googleapis.com/css?family=Life+Savers' rel='stylesheet' type='text/css'>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <style>
      body{
        color: #404040;
        padding:0;
        margin: 0;
      }
      .wrapper {
        margin: 0 0;
        padding: 50px;
      }

      a .post{
        margin-bottom: 5px;
        font-size: 18px;
      }

      time{
        font-family: 'Abel', sans-serif;
        font-size: 0.9em;
        display: block;
        color: #888;
        margin-bottom: 18px;
      }

      footer p{
        margin-bottom: 3px;
      }

      footer{
        bottom: 30px;
      }

      .nav p{
        margin-right: 7px;
        float: left;
      }
      .nav{
        float: left;
      }

      #cright{
        margin-top: 10px;
      }

      .nav-ele{
        padding: 1px 4px 2px;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        border-radius: 3px;
        background-color: #505050;
      }

      .nav-ele a{
        font-weight: bold;
        color: white;
      }

      .nav-ele a:hover{
        color: #ccc;
      }

      .archives{
        margin-top: 20px;
        margin-bottom: 8px;
        margin-left: -20px;
      }

      .topbar-fixed{
        top: 0;
        right: 0;
        left: 0;
        z-index: 1030;
        margin-bottom: 0;
        position: fixed;
      }

      .topbar-inner{
        min-height: 20px;
        width:100%;
        background-color: #D44413;
        box-shadow: 0 1px 3px rgba(0, 0, 0, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
      }
      
      .quote-sidebar{
      font-weight:bold;
      }
      .quote-sidebar .quote{
      margin-bottom: 5px;
      padding-top:40px;
      font-family: 'Life Savers', cursive;
      }
      .quote-sidebar .author{
      float:right;
      margin-right: 40px;
      }
.pub-list{
list-style: none;
margin-left: 0;
}

.pu-list li{
margin-top: 10px;
}

    </style>
  </head>
  <body>
    <!--div class="topbar-fixed">
      <div class="topbar-inner" id="css-animation">
      </div>
    </div-->
    <div class="wrapper">
      <header>
        <h1>Hey, I'm Milinda</h1>
        <p>A Father and a Computer Science PhD Student at the <a href="http://www.soic.indiana.edu/">Indiana University</a>. I am also a committer and a PMC member for <a href="http://axis.apache.org/">Apache Axis</a> and <a href="http://ode.apache.org/">Apache ODE</a> projects.</p>
        <p>Get in touch with me on <a href="http://twitter.com/milindalakmal">Twitter</a>, <a href="http://www.facebook.com/milindapathirage">Facebook</a> or plain old-fashioned <a href="mailto:milinda.pathirage@gmail.com">email</a>.</p>
        <div class="nav">
          <p class="nav-ele"><a href="/">Home</a></p>
          <p class="nav-ele"><a href="/archive.html">Archives</a></p>
          <p class="nav-ele"><a href="/gsoc.html">GSOC 2011</a></p>
        </div>
	
	<div style="clear:both;" class="quote-sidebar">
	  <p class="quote">Don't ignore your dreams; don't work too much; say what you think; cultivate friendships; be happy.</p>
	  <p class="author">- <a href="http://paulgraham.com/todo.html" target="_blank">Paul Graham</a></p>
	</div>
      </header>
      <section>
        <h1>Web Application Development in Clojure</h1>
<p>I did some coding in <a href="http://en.wikipedia.org/wiki/Scheme_(programming_language)">Scheme</a> and <a href="http://www.ruby-lang.org/en/">Ruby</a> last couple of months and felt that writing Java code is not fun anymore. But Java as a platform is really good for
most of the tasks and I started to learn some <a href="http://clojure.org/">Clojure</a> because there is support for reusing Java libraries in Clojure and it's a really good mordern <a href="http://en.wikipedia.org/wiki/Lisp_(programming_language">Lisp</a> derivative.</p>

<p>I'm new to Clojure and I found the series of <a href="http://writingcoding.blogspot.com/2008/06/clojure-series-table-of-contents.html">blog posts</a> by Eric Rochester is really helpful to understand basic stuff for a beginner like me. Please keep in mind that there are some incompatibilities in the code of above blog posts with the new Clojure versions.</p>

<p>As a start I started to re-wrtie a partially done Java Web Service in
Clojure as a REST service. So I googled for resources on Clojure web
appliction development and found <a href="http://mmcgrana.github.com/2010/07/develop-deploy-clojure-web-applications.html">this tutorial</a>. That is really good tutorial for beginners and it covers most of the basic concepts of <a href="https://github.com/mmcgrana/ring">Ring</a>, <a href="https://github.com/weavejester/compojure">Compojure</a> and <a href="https://github.com/weavejester/hiccup">Hiccup</a>. But there were some small issues and most of the solitions can be found in the comments section. My code for above tutorial can be found <a href="https://github.com/milinda/ef/tree/master/clojure-web/adder">here</a>.</p>

<p>There are slight changes in my code when compared to code in the
tutorial.</p>

<ul>
<li>I didn't create a separate <em>script/run.clj</em> file, but included main
method in <em>adder/core.clj</em>.</li>
<li>Had to modify <em>form action</em> and <em>link</em> in output view to make this
work as a WAR in Tomcat.</li>
<li>Used <a href="https://github.com/technomancy/leiningen">lein</a>-<a href="https://github.com/weavejester/lein-ring">ring</a> to create WAR file and had to exclude <em>javax.servlet</em> jar from the generated WAR file using <em>:war-exclusions</em> to resolve a class loading issue.</li>
<li>I had to serve static files via Tomcat because ring middleware
'wrap-file' couldn't load my resource directory when I bundled the app
as a war. So I used <em>:war-resources-path</em> configuration to copy
resources(static files) into root of my WAR.</li>
</ul>


<p>I learned several things by doing this excercise. One thing is support
for WAR deployment is still in early stage. Mostly it's hard to find
good resources online. And the other thing is some of the most popular
tutorials available online are outdated. This is mainly due to rapid
changes(development) in Clojure eco-system. Finally there are some stuff
which works with Jetty adapter doesn't work when deploy the WAR in a
custom context and I couldn't find any tutorial which talks about these
things. I think <em>wrap-if</em> concept introduced in Clojure web app development <a href="(http://mmcgrana.github.com/2010/07/develop-deploy-clojure-web-applications.html">tutorial</a> I mentioned above will be really helpful to handle development and production configurations.</p>

<p>IMO, If you are new to web application development in Clojure following
resources will be really helpful to you.</p>

<ul>
<li><a href="http://mmcgrana.github.com/2010/07/develop-deploy-clojure-web-applications.html">Developing and Deploying a Simple Clojure Web Application</a></li>
<li><a href="http://mmcgrana.github.com/2010/08/clojure-rest-api.html">Building REST APIs for Clojure Web Applications</a></li>
<li><a href="http://brehaut.net/blog/2011/ring_introduction">A Brief Overview of the Clojure Web Stack</a></li>
<li><a href="http://webnoir.org/">Noir</a></li>
</ul>


<p>If you are thinking of developing web applications in Java, consider
moving to Clojure. It's really fun than developing in Java ;-).</p>

<div id="comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'milindablog'; // required: replace example with your forum shortname

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

      </section>
      <footer>
            <p id="cright">Copyright Â© 2012 Milinda Pathirage</p>
            <p><small>Based on Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2420520-12']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
  </body>
</html>
