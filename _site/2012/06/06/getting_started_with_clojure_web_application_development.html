<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
          content="Distributed Systems, Parallel Programming, Programming Languages and Life">
    <meta name="author" content="Milinda Pathirage">
    <link rel="shortcut icon" href="/images/favicon.png">

    <title>Technology and Life - Web Application Development in Clojure</title>

    <!-- Google Webfonts -->
    <link href='http://fonts.googleapis.com/css?family=Oswald:300,400,700' rel='stylesheet'
          type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic'
          rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400' rel='stylesheet'
          type='text/css'>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/main.css">
		
		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
		  <script src="/js/html5shiv.js"></script>
		  <script src="/js/respond.min.js"></script>
		<![endif]-->
</head>
<body>

<!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                    data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">TECHNOLOGY & LIFE</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">

            </ul>
            <ul class="nav navbar-nav navbar-right all-caps">
                <li class="active"><a href="/">Home</a></li>
                <li><a href="#about">About</a></li>
                <!--li><a href="#">Photos</a></li>
                <li><a href="#">Archive</a></li-->
            </ul>
        </div>
    </div>
</div>

<div class="container">
    <div class="post">
	<div class="header">
  	<h1>Web Application Development in Clojure</h1>
  	<p>06 Jun 2012 by Milinda Pathirage</p>
	</div>
	<div class="content">
		<p>I did some coding in <a href="http://en.wikipedia.org/wiki/Scheme_(programming_language)">Scheme</a> and <a href="http://www.ruby-lang.org/en/">Ruby</a> last couple of months and felt that writing Java code is not fun anymore. But Java as a platform is really good for
most of the tasks and I started to learn some <a href="http://clojure.org/">Clojure</a> because there is support for reusing Java libraries in Clojure and it's a really good mordern <a href="http://en.wikipedia.org/wiki/Lisp_(programming_language">Lisp</a> derivative.</p>

<p>I'm new to Clojure and I found the series of <a href="http://writingcoding.blogspot.com/2008/06/clojure-series-table-of-contents.html">blog posts</a> by Eric Rochester is really helpful to understand basic stuff for a beginner like me. Please keep in mind that there are some incompatibilities in the code of above blog posts with the new Clojure versions.</p>

<p>As a start I started to re-wrtie a partially done Java Web Service in
Clojure as a REST service. So I googled for resources on Clojure web
appliction development and found <a href="http://mmcgrana.github.com/2010/07/develop-deploy-clojure-web-applications.html">this tutorial</a>. That is really good tutorial for beginners and it covers most of the basic concepts of <a href="https://github.com/mmcgrana/ring">Ring</a>, <a href="https://github.com/weavejester/compojure">Compojure</a> and <a href="https://github.com/weavejester/hiccup">Hiccup</a>. But there were some small issues and most of the solitions can be found in the comments section. My code for above tutorial can be found <a href="https://github.com/milinda/ef/tree/master/clojure-web/adder">here</a>.</p>

<p>There are slight changes in my code when compared to code in the
tutorial.</p>

<ul>
<li>I didn't create a separate <em>script/run.clj</em> file, but included main
method in <em>adder/core.clj</em>.</li>
<li>Had to modify <em>form action</em> and <em>link</em> in output view to make this
work as a WAR in Tomcat.</li>
<li>Used <a href="https://github.com/technomancy/leiningen">lein</a>-<a href="https://github.com/weavejester/lein-ring">ring</a> to create WAR file and had to exclude <em>javax.servlet</em> jar from the generated WAR file using <em>:war-exclusions</em> to resolve a class loading issue.</li>
<li>I had to serve static files via Tomcat because ring middleware
'wrap-file' couldn't load my resource directory when I bundled the app
as a war. So I used <em>:war-resources-path</em> configuration to copy
resources(static files) into root of my WAR.</li>
</ul>


<p>I learned several things by doing this excercise. One thing is support
for WAR deployment is still in early stage. Mostly it's hard to find
good resources online. And the other thing is some of the most popular
tutorials available online are outdated. This is mainly due to rapid
changes(development) in Clojure eco-system. Finally there are some stuff
which works with Jetty adapter doesn't work when deploy the WAR in a
custom context and I couldn't find any tutorial which talks about these
things. I think <em>wrap-if</em> concept introduced in Clojure web app development <a href="(http://mmcgrana.github.com/2010/07/develop-deploy-clojure-web-applications.html">tutorial</a> I mentioned above will be really helpful to handle development and production configurations.</p>

<p>IMO, If you are new to web application development in Clojure following
resources will be really helpful to you.</p>

<ul>
<li><a href="http://mmcgrana.github.com/2010/07/develop-deploy-clojure-web-applications.html">Developing and Deploying a Simple Clojure Web Application</a></li>
<li><a href="http://mmcgrana.github.com/2010/08/clojure-rest-api.html">Building REST APIs for Clojure Web Applications</a></li>
<li><a href="http://brehaut.net/blog/2011/ring_introduction">A Brief Overview of the Clojure Web Stack</a></li>
<li><a href="http://webnoir.org/">Noir</a></li>
</ul>


<p>If you are thinking of developing web applications in Java, consider
moving to Clojure. It's really fun than developing in Java ;-).</p>

	</div>
</div>

</div>

<div id="footer">
    <div class="container">
        <div id="about" class="row" style="padding-top:20px;">
            <div class="col-lg-6">
                <p>
                    Milinda Pathirage is a Computer Science PhD student at 
					<a href="http://www.iub.edu/" target="_blank">Indiana University,
                    Bloomington</a>. I am interested in distributed systems, parallel programing
                    and many core architectures. <a href="#">More..</a>
                </p>

                <p style="text-transform: uppercase;">
                    <strong>Find me elsewhere</strong>
                </p>

                <div class="social-profiles">
                    <a href="https://twitter.com/milindalakmal">
                        <img src="/images/twitter-32.png">
                    </a>
                    <a href="https://twitter.com/milindalakmal">
                        <img src="/images/facebook-32.png">
                    </a>
                    <a href="https://twitter.com/milindalakmal">
                        <img src="/images/flickr-32.png">
                    </a>
                    <a href="https://twitter.com/milindalakmal">
                        <img src="/images/linkedin-32.png">
                    </a>
                </div>
            </div>
            <div class="col-lg-6">
                <img src="/images/family.png">
            </div>
        </div>
    </div>
		<script src="/js/jquery.min.js"></script>
		<script src="/js/bootstrap.min.js"></script>
</body>
</html>
